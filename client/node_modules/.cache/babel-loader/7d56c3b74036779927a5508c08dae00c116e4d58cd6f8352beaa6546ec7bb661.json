{"ast":null,"code":"var _jsxFileName = \"/Users/lance/just650/client/src/context/EssayContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/context/EssayContext.js\nimport React, { createContext, useState, useContext, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EssayContext = /*#__PURE__*/createContext();\nexport const useEssays = () => {\n  _s();\n  return useContext(EssayContext);\n};\n_s(useEssays, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const EssayProvider = ({\n  children\n}) => {\n  _s2();\n  const [essays, setEssays] = useState([]);\n  useEffect(() => {\n    const fetchEssays = async () => {\n      try {\n        const response = await fetch('http://localhost:5000/api/essays');\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        const data = await response.json();\n        setEssays(data);\n      } catch (error) {\n        console.error('Error fetching essays:', error);\n      }\n    };\n    fetchEssays();\n  }, []);\n  const addEssay = async newEssay => {\n    try {\n      const response = await fetch('http://localhost:5000/api/essays', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newEssay)\n      });\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const data = await response.json();\n      setEssays(prevEssays => [...prevEssays, data]);\n    } catch (error) {\n      console.error('Error adding essay:', error);\n    }\n  };\n  const likeEssay = async id => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/essays/${id}/like`, {\n        method: 'PUT'\n      });\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const updatedEssay = await response.json();\n      setEssays(prevEssays => prevEssays.map(essay => essay._id === updatedEssay._id ? updatedEssay : essay));\n    } catch (error) {\n      console.error('Error liking essay:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(EssayContext.Provider, {\n    value: {\n      essays,\n      addEssay,\n      likeEssay\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s2(EssayProvider, \"9Ct9syLiQRBp2XKakE1dIip2l2I=\");\n_c = EssayProvider;\nvar _c;\n$RefreshReg$(_c, \"EssayProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","jsxDEV","_jsxDEV","EssayContext","useEssays","_s","EssayProvider","children","_s2","essays","setEssays","fetchEssays","response","fetch","ok","Error","data","json","error","console","addEssay","newEssay","method","headers","body","JSON","stringify","prevEssays","likeEssay","id","updatedEssay","map","essay","_id","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/lance/just650/client/src/context/EssayContext.js"],"sourcesContent":["// src/context/EssayContext.js\nimport React, { createContext, useState, useContext, useEffect } from 'react';\n\nconst EssayContext = createContext();\n\nexport const useEssays = () => useContext(EssayContext);\n\nexport const EssayProvider = ({ children }) => {\n  const [essays, setEssays] = useState([]);\n\n  useEffect(() => {\n    const fetchEssays = async () => {\n      try {\n        const response = await fetch('http://localhost:5000/api/essays');\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        const data = await response.json();\n        setEssays(data);\n      } catch (error) {\n        console.error('Error fetching essays:', error);\n      }\n    };\n\n    fetchEssays();\n  }, []);\n\n  const addEssay = async (newEssay) => {\n    try {\n      const response = await fetch('http://localhost:5000/api/essays', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(newEssay),\n      });\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const data = await response.json();\n      setEssays(prevEssays => [...prevEssays, data]);\n    } catch (error) {\n      console.error('Error adding essay:', error);\n    }\n  };\n\n  const likeEssay = async (id) => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/essays/${id}/like`, {\n        method: 'PUT',\n      });\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const updatedEssay = await response.json();\n      setEssays(prevEssays => prevEssays.map(essay => \n        essay._id === updatedEssay._id ? updatedEssay : essay\n      ));\n    } catch (error) {\n      console.error('Error liking essay:', error);\n    }\n  };\n\n  return (\n    <EssayContext.Provider value={{ essays, addEssay, likeEssay }}>\n      {children}\n    </EssayContext.Provider>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}